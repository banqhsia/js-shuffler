<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Random items</title>
</head>

<body>
    <div id="count"></div>
    <textarea id="result" rows="20"></textarea>
    <script>
        function shuffleUrls() {
            var urlParams = new URLSearchParams(window.location.search);
            var urls = urlParams.get("items").split(",");
            urls = urls.map(function (url) { return url.trim(); });
            var shuffledUrls = shuffleArray(urls);
            var resultDiv = document.getElementById("result");
            resultDiv.innerHTML = shuffledUrls.join("\n");

            var countDiv = document.getElementById("count");
            countDiv.innerHTML = "Total items: " + urls.length;
        }

        function shuffleArray(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
            return array;
        }

        window.onload = shuffleUrls;
    </script>
</body>

</html>